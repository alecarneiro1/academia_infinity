<%- include('./partials/headPartialView') %>
<%- include('./partials/headerPartialView') %>

<main class="content">
<article class="card block" id="agente">
  <header class="block__head">
    <div>
      <h3 class="block__title">Agente</h3>
      <p class="block__subtitle">Informações usadas pelo assistente</p>
    </div>
  </header>

  <section class="agent-list">
    <% 
      // Mapeamento dos títulos corretos
      const titleMap = {
        planos: 'Planos',
        'personal trainer': 'Personal Trainer',
        'personal-trainer': 'Personal Trainer',
        links: 'Links',
        localizacao: 'Localização',
        localização: 'Localização',
        promocoes: 'Promoções',
        promoções: 'Promoções',
        horarios: 'Horários',
        horários: 'Horários'
      };
    %>
    <% infos.forEach(function(info) { 
         const key = (info.titulo || '').trim().toLowerCase().replace(/[-_]/g, ' ');
         const tituloCorreto = titleMap[key] || info.titulo;
    %>
      <form class="agent-card agente-form" method="POST" action="/admin/agente/<%= info.id %>">
        <h4 class="agent-card__title"><%= tituloCorreto %></h4>
        <textarea class="textarea" name="conteudo" rows="8"><%= info.conteudo %></textarea>
        <div class="field-actions">
          <button class="btn btn--primary btn--sm" type="submit">Salvar</button>
        </div>
      </form>
    <% }) %>
  </section>
</article>
</main>

  <footer class="footer">
    <p class="footer__title">Sistema Infinity v1.0 | Hands-On Comunicação</p>
  </footer>


<!-- Botão hambúrguer (mobile) -->
<label for="nav-toggle" class="hamburger" aria-label="Abrir menu" title="Abrir menu">
  <span></span><span></span><span></span>
</label>
<!-- Overlay para fechar o menu quando aberto no mobile -->
<label for="nav-toggle" class="overlay" aria-hidden="true"></label>

<!-- Scripts -->
<script src="/js/admin/agenteScripts.js"></script>
<script src="/js/admin/adminGlobalScripts.js"></script>

</body>
</html>
